name: Test model
entities:
  - provider: k8s
    spec: 
      connect_via: config_file
      selectors: 
        - entity_type: service
          api_group: "v1"
          resource_kind: service
          namespace: default
  - provider: json
    spec:
      source: "../../../../Nictoarch.Common.Xml2Json.Tests/data/drawio.small.xml"
      source_transform: xml2json
      query: |
          **[_type='object' and `service-name`].{
              'type': 'service',
              'domain_id': `id`,
              'semantic_id': `service-name` & '@' & `service-group`,
              'display_name': `service-name` & '@' & `service-group`
          }[]